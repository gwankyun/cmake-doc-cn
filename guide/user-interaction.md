# 用户交互指南

[TOC]

## 简介

当软件包为基于CMake的构建系统提供了软件的源代码时，软件的消费者需要运行一个CMake用户交互工具来构建它。

行为良好的基于cmake的构建系统不会在源目录中创建任何输出，所以通常情况下，用户执行一个源外构建并在那里执行构建。首先，必须指示CMake生成一个合适的构建系统，然后用户调用构建工具来处理生成的构建系统。生成的构建系统是特定于用来生成它的机器的，并且是不可再分布的。提供的源软件包的每个消费者都需要使用CMake来生成特定于他们系统的构建系统。

生成的构建系统通常应该被视为只读的。作为主要构件的CMake文件应该完全指定构建系统，并且应该没有理由在IDE中手动填充属性，例如在生成构建系统之后。CMake会定期重写生成的构建系统，因此用户的修改会被覆盖。

通过提供CMake文件，本手册中描述的功能和用户界面可用于所有基于CMake的构建系统。

当处理提供的CMake文件时，CMake工具可能会向用户报告错误，比如报告编译器不受支持，或者编译器不支持必需的编译选项，或者无法找到依赖项。这些错误必须由用户通过选择不同的编译器、[安装依赖项](using-dependencies.md)或指示CMake在哪里找到它们来解决。

### cmake命令行工具

### cmake-gui工具

## 生成一个构建系统

### 命令行环境

### 命令行-G选项

### 在cmake-gui选择生成器

## 设置构建变量

### 在命令行设置变量

### 在cmake-gui设置变量

### CMake缓存

## 预设

### 在命令行使用预设

### 在cmake-gui使用预设

## 调用构建系统

### 选择一个目标

### 指定一个构建程序

## 软件安装

## 运行测试
